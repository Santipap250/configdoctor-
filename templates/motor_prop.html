{# templates/motor_prop.html #}
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <title>Motor √ó Prop Recommender ‚Äî OBIXConfig Doctor</title>
{% set og_title       = "Motor √ó Prop Recommender ‚Äî OBIXConfig Doctor" %}
{% set og_description = "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÉ‡∏ö‡∏û‡∏±‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ï‡∏≤‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å, ‡πÅ‡∏ö‡∏ï ‡πÅ‡∏•‡∏∞‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô" %}
{% set og_url         = "https://configdoctor.onrender.com/motor-prop" %}
{% include "partials/og_tags.html" %}
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="/static/css/style.css"> <!-- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ style ‡∏´‡∏•‡∏±‡∏Å -->
  <link rel="stylesheet" href="/static/css/motor_prop.css">
  <script defer src="/static/js/motor_prop.js"></script>
</head>
<body class="{{ 'dark' if request.cookies.get('theme','light')=='dark' else 'light' }}">
<div class="tool-shell">
  <header class="tool-header">
    <div class="left">
      <a class="back" href="/app" aria-label="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">‚Äπ ‡∏Å‡∏•‡∏±‡∏ö</a>
      <h1>Motor √ó Prop Recommender</h1>
      <p class="subtitle">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå / KV / ‡∏™‡πÄ‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô TWR & ‡∏Å‡∏£‡∏∞‡πÅ‡∏™</p>
    </div>
    <div class="right">
      <button id="open-vtx" class="icon-btn" title="VTX tools">üì°</button>
    </div>
  </header>

  <main class="tool-main">
    <form id="mpForm" class="mp-form" method="POST" novalidate>
      <fieldset class="group">
        <legend>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å</legend>

        <label>‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏î‡∏£‡∏ô (‡∏ô‡∏¥‡πâ‡∏ß)
          <input type="number" name="size" step="0.1" required value="{{ request.form.get('size','5') }}">
        </label>

        <label>‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏≠‡∏ô‡∏ö‡∏¥‡∏ô (‡∏Å‡∏£‡∏±‡∏°)
          <input type="number" name="weight" required value="{{ request.form.get('weight','900') }}">
        </label>

        <label>‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà
          <select name="battery">
            {% for c in [3,4,5,6,7,8] %}
            <option value="{{c}}S" {% if request.form.get('battery','4S') == (c ~ 'S') %}selected{% endif %}>{{c}}S</option>
            {% endfor %}
          </select>
        </label>

        <label>Battery capacity (mAh) ‚Äî (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
          <input type="number" name="battery_mAh" value="{{ request.form.get('battery_mAh','1500') }}">
        </label>
      </fieldset>

      <fieldset class="group">
        <legend>‡πÉ‡∏ö‡∏û‡∏±‡∏î & ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå</legend>

        <label>‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏ö‡∏û‡∏±‡∏î (‡∏ô‡∏¥‡πâ‡∏ß)
          <input type="number" step="0.1" name="prop_size" required value="{{ request.form.get('prop_size','5') }}">
        </label>

        <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö‡∏û‡∏±‡∏î
          <select name="blades">
            <option value="2" {% if request.form.get('blades','3')=='2' %}selected{% endif %}>2</option>
            <option value="3" {% if request.form.get('blades','3')=='3' %}selected{% endif %}>3</option>
            <option value="4" {% if request.form.get('blades','3')=='4' %}selected{% endif %}>4</option>
          </select>
        </label>

        <label>Pitch (‡πÄ‡∏ä‡πà‡∏ô 4.0)
          <input type="number" step="0.1" name="pitch" value="{{ request.form.get('pitch','4.0') }}">
        </label>

        <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå
          <input type="number" name="motor_count" value="{{ request.form.get('motor_count','4') }}">
        </label>
      </fieldset>

      <fieldset class="group">
        <legend>‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô</legend>
        <label>‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô
          <select name="style">
            <option value="freestyle" {% if request.form.get('style','freestyle')=='freestyle' %}selected{% endif %}>Freestyle</option>
            <option value="racing" {% if request.form.get('style','freestyle')=='racing' %}selected{% endif %}>Racing</option>
            <option value="longrange" {% if request.form.get('style','freestyle')=='longrange' %}selected{% endif %}>Long Range / Cinematic</option>
          </select>
        </label>
      </fieldset>

      <div class="form-actions">
        <button type="submit" class="btn-primary">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå & ‡πÉ‡∏ö‡∏û‡∏±‡∏î</button>
        <button type="button" id="fill-sample" class="btn-ghost">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</button>
      </div>
    </form>

    <aside class="mp-result" id="mpResult" aria-live="polite">
      {% if result is defined %}
      <div class="card">
        <h2>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h2>
        <div class="metrics">
          <div class="metric"><div class="k">TWR</div><div class="v">{{ result.twr_display }}</div></div>
          <div class="metric"><div class="k">‡πÅ‡∏£‡∏á‡∏Ç‡∏±‡∏ö‡∏£‡∏ß‡∏°</div><div class="v">{{ result.total_thrust_g }} g</div></div>
          <div class="metric"><div class="k">‡πÅ‡∏£‡∏á‡∏Ç‡∏±‡∏ö/‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå</div><div class="v">{{ result.thrust_per_motor }} g</div></div>
          <div class="metric"><div class="k">KV ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</div><div class="v">{{ result.kv_range }}</div></div>
          <div class="metric"><div class="k">‡∏™‡πÄ‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</div><div class="v">{{ result.stator }}</div></div>
          <div class="metric"><div class="k">‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Å‡∏£‡∏∞‡πÅ‡∏™</div><div class="v">{{ result.est_current_a }} A</div></div>
          <div class="metric"><div class="k">‡πÄ‡∏ß‡∏•‡∏≤‡∏ö‡∏¥‡∏ô‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</div><div class="v">{{ result.est_flight_time_min }} ‡∏ô‡∏≤‡∏ó‡∏µ</div></div>
        </div>

        <h3>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h3>
        <ul>
          {% for t in result.tips %}
            <li>{{ t }}</li>
          {% endfor %}
        </ul>

        <h3>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á CLI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö {{ 'Betaflight' }}</h3>
        <pre class="cli">{{ result.sample_cli }}</pre>
        <div style="display:flex;gap:8px;margin-top:8px;">
          <button class="btn-ghost" id="copy-cli">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å CLI</button>
          <a class="btn-ghost" href="/downloads?filter=motorprop">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå</a>
        </div>
      </div>
      {% else %}
      <div class="card muted">
        ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå & ‡πÉ‡∏ö‡∏û‡∏±‡∏î" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
      </div>
      {% endif %}
    </aside>

  </main>
</div>
</body>
</html>